<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ° Boyfriend Gacha Machine ğŸ’•</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;600;700;800&family=Fredoka:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --pink-light: #FFE4EC;
            --pink-mid: #FF9EBB;
            --pink-hot: #FF6B9D;
            --pink-deep: #E91E8C;
            --yellow-cream: #FFF9E6;
            --yellow-gold: #FFD93D;
            --mint: #B8F5EC;
            --lavender: #E8D5FF;
            --peach: #FFDAB3;
        }

        @keyframes jiggle {
            0%, 100% { transform: rotate(-2deg); }
            50% { transform: rotate(2deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes bounce-in {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(10deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        @keyframes rainbow-bg {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* REAL GACHA MACHINE ANIMATIONS */
        @keyframes ball-tumble {
            0% { transform: translate(0, 0) rotate(0deg); }
            10% { transform: translate(15px, -20px) rotate(36deg); }
            20% { transform: translate(-10px, 10px) rotate(72deg); }
            30% { transform: translate(20px, -15px) rotate(108deg); }
            40% { transform: translate(-15px, 5px) rotate(144deg); }
            50% { transform: translate(10px, -25px) rotate(180deg); }
            60% { transform: translate(-20px, 15px) rotate(216deg); }
            70% { transform: translate(15px, -10px) rotate(252deg); }
            80% { transform: translate(-5px, 20px) rotate(288deg); }
            90% { transform: translate(10px, -5px) rotate(324deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        @keyframes machine-shake {
            0%, 100% { transform: translateX(0); }
            10% { transform: translateX(-8px) rotate(-1deg); }
            20% { transform: translateX(8px) rotate(1deg); }
            30% { transform: translateX(-6px) rotate(-0.5deg); }
            40% { transform: translateX(6px) rotate(0.5deg); }
            50% { transform: translateX(-4px); }
            60% { transform: translateX(4px); }
            70% { transform: translateX(-2px); }
            80% { transform: translateX(2px); }
            90% { transform: translateX(-1px); }
        }

        @keyframes crank-rotate {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(90deg); }
            50% { transform: rotate(180deg); }
            75% { transform: rotate(270deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes ball-drop {
            0% { transform: translateY(-100%) scale(0.5); opacity: 0; }
            20% { transform: translateY(0) scale(1.1); opacity: 1; }
            40% { transform: translateY(-30px) scale(0.95); }
            60% { transform: translateY(0) scale(1.05); }
            80% { transform: translateY(-10px) scale(0.98); }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        @keyframes capsule-open {
            0% { transform: scale(1); }
            30% { transform: scale(1.1); }
            50% { transform: scale(1.2) rotate(10deg); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1) rotate(0deg); }
        }

        @keyframes sparkle-burst {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.8; }
            100% { transform: scale(2); opacity: 0; }
        }

        @keyframes glow-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 107, 157, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 107, 157, 0.8), 0 0 60px rgba(255, 215, 0, 0.4); }
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(135deg, #FFE4EC 0%, #FFF9E6 25%, #E8D5FF 50%, #B8F5EC 75%, #FFE4EC 100%);
            background-size: 400% 400%;
            animation: rainbow-bg 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .stars {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .star {
            position: absolute;
            font-size: 20px;
            animation: float 3s ease-in-out infinite;
            opacity: 0.6;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 420px;
            width: 100%;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .title {
            font-family: 'Baloo 2', cursive;
            font-size: clamp(26px, 7vw, 38px);
            font-weight: 800;
            background: linear-gradient(135deg, var(--pink-hot) 0%, var(--pink-deep) 50%, #9B59B6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: jiggle 2s ease-in-out infinite;
        }

        .subtitle {
            font-size: 14px;
            color: #888;
            margin-top: 6px;
            font-weight: 500;
        }

        /* GACHA MACHINE - More realistic! */
        .gacha-machine {
            background: linear-gradient(180deg, #FF6B9D 0%, #E91E8C 100%);
            border-radius: 30px 30px 15px 15px;
            padding: 20px;
            position: relative;
            box-shadow:
                0 20px 60px rgba(233, 30, 140, 0.4),
                inset 0 2px 0 rgba(255,255,255,0.3),
                inset 0 -8px 0 rgba(0,0,0,0.15);
            transition: transform 0.1s;
        }

        .gacha-machine.shaking {
            animation: machine-shake 0.5s ease-in-out;
        }

        .machine-top {
            background: linear-gradient(180deg, #FF9EBB 0%, #FF6B9D 100%);
            border-radius: 25px 25px 0 0;
            padding: 16px;
            margin: -20px -20px 0 -20px;
            border-bottom: 4px solid rgba(0,0,0,0.15);
            text-align: center;
        }

        .machine-title {
            font-family: 'Baloo 2', cursive;
            font-size: 16px;
            font-weight: 700;
            color: white;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
        }

        /* Glass globe with balls */
        .globe {
            background: radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.7) 50%, rgba(255,220,230,0.6) 100%);
            border-radius: 50%;
            width: 240px;
            height: 240px;
            margin: 16px auto;
            position: relative;
            box-shadow:
                inset 0 -40px 60px rgba(255, 150, 180, 0.4),
                inset 0 20px 40px rgba(255,255,255,0.9),
                0 15px 40px rgba(0,0,0,0.15);
            overflow: hidden;
            border: 4px solid rgba(255,255,255,0.5);
        }

        /* Glass reflection */
        .globe::before {
            content: '';
            position: absolute;
            top: 12px;
            left: 20%;
            width: 60%;
            height: 35px;
            background: linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
            border-radius: 50%;
            z-index: 10;
        }

        /* Gacha capsules inside */
        .capsules {
            position: absolute;
            inset: 25px;
            overflow: hidden;
        }

        .capsule {
            position: absolute;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            box-shadow:
                inset -4px -4px 8px rgba(0,0,0,0.25),
                inset 4px 4px 8px rgba(255,255,255,0.6),
                2px 3px 6px rgba(0,0,0,0.2);
            animation: float 3s ease-in-out infinite;
            transition: all 0.3s;
        }

        .capsule:nth-child(1) { background: linear-gradient(135deg, #FFD93D, #FFA500); top: 8%; left: 12%; animation-delay: 0s; }
        .capsule:nth-child(2) { background: linear-gradient(135deg, #FF6B9D, #FF1493); top: 55%; left: 8%; animation-delay: 0.4s; }
        .capsule:nth-child(3) { background: linear-gradient(135deg, #87CEEB, #00BFFF); top: 25%; right: 10%; animation-delay: 0.8s; }
        .capsule:nth-child(4) { background: linear-gradient(135deg, #DDA0DD, #9370DB); bottom: 12%; right: 15%; animation-delay: 1.2s; }
        .capsule:nth-child(5) { background: linear-gradient(135deg, #98FB98, #32CD32); top: 45%; left: 45%; animation-delay: 1.6s; }
        .capsule:nth-child(6) { background: linear-gradient(135deg, #FFB6C1, #FF69B4); bottom: 30%; left: 20%; animation-delay: 2s; }

        /* Tumbling animation when spinning */
        .globe.spinning .capsule {
            animation: ball-tumble 0.4s ease-in-out infinite;
        }
        .globe.spinning .capsule:nth-child(1) { animation-delay: 0s; }
        .globe.spinning .capsule:nth-child(2) { animation-delay: 0.05s; }
        .globe.spinning .capsule:nth-child(3) { animation-delay: 0.1s; }
        .globe.spinning .capsule:nth-child(4) { animation-delay: 0.15s; }
        .globe.spinning .capsule:nth-child(5) { animation-delay: 0.2s; }
        .globe.spinning .capsule:nth-child(6) { animation-delay: 0.25s; }

        /* Result character in globe */
        .result-display {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            z-index: 5;
        }

        .result-display.show {
            opacity: 1;
        }

        .result-capsule {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--yellow-gold) 0%, #FFA500 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow:
                inset -8px -8px 20px rgba(0,0,0,0.3),
                inset 8px 8px 20px rgba(255,255,255,0.5),
                0 10px 30px rgba(0,0,0,0.3);
            animation: ball-drop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .result-capsule.opening {
            animation: capsule-open 0.6s ease-out;
        }

        .result-character {
            width: 120px;
            height: 120px;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.2));
            animation: bounce-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both;
        }

        /* Crank handle */
        .crank-container {
            position: absolute;
            right: -55px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            cursor: pointer;
        }

        .crank-base {
            width: 25px;
            height: 70px;
            background: linear-gradient(90deg, #888 0%, #CCC 50%, #888 100%);
            border-radius: 4px;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.3);
        }

        .crank-arm {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            transform-origin: bottom center;
        }

        .crank-arm.rotating {
            animation: crank-rotate 0.3s linear 3;
        }

        .crank-shaft {
            width: 10px;
            height: 80px;
            background: linear-gradient(90deg, #666 0%, #999 50%, #666 100%);
            border-radius: 5px;
            margin: 0 auto;
        }

        .crank-handle {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FF4444 0%, #CC0000 100%);
            border-radius: 50%;
            margin: 0 auto;
            margin-top: -5px;
            box-shadow:
                inset -4px -4px 12px rgba(0,0,0,0.4),
                inset 4px 4px 12px rgba(255,100,100,0.5),
                3px 5px 10px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }

        .crank-container:hover .crank-handle {
            transform: scale(1.1);
            box-shadow:
                inset -4px -4px 12px rgba(0,0,0,0.4),
                inset 4px 4px 12px rgba(255,100,100,0.5),
                0 0 20px rgba(255,68,68,0.5);
        }

        /* Dispenser chute */
        .dispenser {
            background: linear-gradient(180deg, #333 0%, #1a1a1a 100%);
            width: 90px;
            height: 50px;
            margin: 0 auto -8px;
            border-radius: 0 0 20px 20px;
            position: relative;
            box-shadow: inset 0 8px 15px rgba(0,0,0,0.6);
        }

        .dispenser-hole {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 45px;
            height: 22px;
            background: #000;
            border-radius: 0 0 10px 10px;
        }

        /* BIG PULL BUTTON */
        .pull-btn {
            background: linear-gradient(180deg, var(--yellow-gold) 0%, #FFA500 100%);
            border: none;
            border-radius: 25px;
            padding: 18px 50px;
            font-family: 'Baloo 2', cursive;
            font-size: 26px;
            font-weight: 800;
            color: #5D3A00;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            box-shadow:
                0 8px 0 #CC8800,
                0 12px 25px rgba(0,0,0,0.25);
            transition: all 0.1s;
            text-shadow: 1px 1px 0 rgba(255,255,255,0.4);
            animation: glow-pulse 2s ease-in-out infinite;
        }

        .pull-btn:hover {
            transform: translateY(3px);
            box-shadow:
                0 5px 0 #CC8800,
                0 8px 20px rgba(0,0,0,0.25);
        }

        .pull-btn:active {
            transform: translateY(7px);
            box-shadow:
                0 1px 0 #CC8800,
                0 4px 10px rgba(0,0,0,0.2);
        }

        .pull-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            animation: none;
        }

        /* Result card */
        .result-card {
            background: white;
            border-radius: 28px;
            padding: 28px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 15px 50px rgba(0,0,0,0.12);
            display: none;
            animation: bounce-in 0.5s ease-out;
        }

        .result-card.show {
            display: block;
        }

        .result-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 14px;
        }

        .result-icon {
            font-size: 32px;
            animation: jiggle 0.8s ease-in-out infinite;
        }

        .result-label {
            font-family: 'Baloo 2', cursive;
            font-size: 22px;
            font-weight: 700;
            color: var(--pink-hot);
        }

        .result-character-card {
            background: linear-gradient(135deg, var(--pink-light) 0%, var(--lavender) 100%);
            border-radius: 20px;
            padding: 22px;
            margin: 14px 0;
        }

        .result-char-img {
            width: 110px;
            height: 110px;
            margin: 0 auto 14px;
            animation: float 2.5s ease-in-out infinite;
            filter: drop-shadow(0 8px 20px rgba(0,0,0,0.15));
        }

        .result-char-name {
            font-family: 'Baloo 2', cursive;
            font-size: 26px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }

        .rarity-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .rarity-ssr { background: linear-gradient(135deg, #FFD700, #FFA500); color: #5D3A00; }
        .rarity-sr { background: linear-gradient(135deg, #C0C0C0, #A0A0A0); color: #333; }
        .rarity-r { background: linear-gradient(135deg, #CD7F32, #8B4513); color: #FFF; }

        .result-match {
            background: linear-gradient(135deg, var(--pink-hot) 0%, var(--pink-deep) 100%);
            color: white;
            padding: 8px 18px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 14px;
        }

        .result-trait {
            font-size: 15px;
            color: #666;
            font-style: italic;
            margin-bottom: 12px;
        }

        .result-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            justify-content: center;
        }

        .result-tag {
            background: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            color: #555;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        }

        .result-message {
            background: linear-gradient(135deg, var(--yellow-cream) 0%, var(--peach) 100%);
            border-radius: 14px;
            padding: 14px;
            margin-top: 14px;
            font-size: 14px;
            color: #555;
            line-height: 1.5;
        }

        .play-again-btn {
            background: linear-gradient(135deg, var(--mint) 0%, #5DBDBD 100%);
            border: none;
            border-radius: 18px;
            padding: 14px 32px;
            font-family: 'Baloo 2', cursive;
            font-size: 17px;
            font-weight: 700;
            color: #1D4E4E;
            cursor: pointer;
            margin-top: 16px;
            box-shadow: 0 5px 0 #3A9999, 0 8px 18px rgba(0,0,0,0.12);
            transition: all 0.1s;
        }

        .play-again-btn:hover {
            transform: translateY(2px);
            box-shadow: 0 3px 0 #3A9999, 0 6px 14px rgba(0,0,0,0.12);
        }

        /* Collection */
        .collection {
            background: white;
            border-radius: 18px;
            padding: 14px 20px;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 6px 25px rgba(0,0,0,0.08);
        }

        .collection-label {
            font-weight: 600;
            color: #666;
            font-size: 14px;
        }

        .collection-count {
            font-family: 'Baloo 2', cursive;
            font-size: 18px;
            font-weight: 700;
            color: var(--pink-hot);
        }

        /* Confetti */
        .confetti-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 100;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            top: -20px;
            animation: confetti-fall 3s linear forwards;
        }

        /* Sparkle burst effect */
        .sparkle-burst {
            position: absolute;
            width: 300px;
            height: 300px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 20;
        }

        .sparkle-burst span {
            position: absolute;
            font-size: 24px;
            animation: sparkle-burst 0.6s ease-out forwards;
        }

        /* Back link */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: #888;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            margin-bottom: 14px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--pink-hot);
        }

        /* Responsive */
        @media (max-width: 450px) {
            .crank-container { display: none; }
            .globe { width: 200px; height: 200px; }
            .capsule { width: 38px; height: 38px; font-size: 18px; }
            .result-capsule { width: 130px; height: 130px; }
            .result-character { width: 95px; height: 95px; }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    <div class="confetti-container" id="confetti"></div>

    <div class="container">
        <a href="index.html" class="back-link">â† Back to Anniversary</a>

        <header class="header">
            <h1 class="title">ğŸ° Boyfriend Gacha ğŸ’•</h1>
            <p class="subtitle">Which chubby character is your marshmallow BF?</p>
        </header>

        <div class="gacha-machine" id="gachaMachine">
            <div class="machine-top">
                <div class="machine-title">âœ¨ CHUBBY CHARACTER MATCHER âœ¨</div>
            </div>

            <div class="globe" id="globe">
                <div class="capsules" id="capsules">
                    <div class="capsule">ğŸ¹</div>
                    <div class="capsule">ğŸ°</div>
                    <div class="capsule">ğŸ•</div>
                    <div class="capsule">ğŸ¸</div>
                    <div class="capsule">ğŸ®</div>
                    <div class="capsule">ğŸ’š</div>
                </div>
                <div class="result-display" id="resultDisplay">
                    <div class="result-capsule" id="resultCapsule">
                        <img class="result-character" id="resultCharImg" src="" alt="">
                    </div>
                </div>
                <div class="sparkle-burst" id="sparkleBurst"></div>
            </div>

            <div class="crank-container" onclick="pullGacha()">
                <div class="crank-base"></div>
                <div class="crank-arm" id="crankArm">
                    <div class="crank-handle"></div>
                    <div class="crank-shaft"></div>
                </div>
            </div>

            <div class="dispenser">
                <div class="dispenser-hole"></div>
            </div>

            <button class="pull-btn" id="pullBtn" onclick="pullGacha()">
                ğŸ° PULL! ğŸ°
            </button>
        </div>

        <div class="result-card" id="resultCard">
            <div class="result-header">
                <span class="result-icon">ğŸŠ</span>
                <span class="result-label">IT'S A MATCH!</span>
                <span class="result-icon">ğŸŠ</span>
            </div>
            <div class="result-character-card">
                <img class="result-char-img" id="cardCharImg" src="" alt="">
                <h3 class="result-char-name" id="cardCharName"></h3>
                <span class="rarity-badge" id="rarityBadge"></span>
                <div class="result-match" id="cardMatch"></div>
                <p class="result-trait" id="cardTrait"></p>
                <div class="result-tags" id="cardTags"></div>
            </div>
            <div class="result-message" id="cardMessage"></div>
            <button class="play-again-btn" onclick="resetGacha()">ğŸ”„ Pull Again!</button>
        </div>

        <div class="collection">
            <span class="collection-label">ğŸ¯ Characters Found:</span>
            <span class="collection-count" id="collectionCount">0 / 22</span>
        </div>
    </div>

    <script>
        // All characters with SVGMaker generated images
        const characters = [
            {
                name: "Pompompurin",
                image: "images/pompompurin.svg",
                match: 98,
                trait: "Marshmallow Tummy Champion",
                tags: ["ğŸ® Pudding Body", "ğŸ˜´ Nap King", "ğŸ¥ Snack Monster"],
                message: "YOUR BOYFRIEND IS POMPOMPURIN! That golden marshmallow belly? Those sleepy eyes? CONFIRMED PUDDING BOY! ğŸ®ğŸ’•",
                rarity: "SSR"
            },
            {
                name: "Cinnamoroll",
                image: "images/cinnamoroll.svg",
                match: 95,
                trait: "Fluffy Cloud Boyfriend",
                tags: ["â˜ï¸ Cloud Body", "ğŸ€ Extra Soft", "ğŸ© Dessert Radar"],
                message: "A fluffy cloud puppy! Your boyfriend is so soft and huggable, you just want to squish him! â˜ï¸âœ¨",
                rarity: "SSR"
            },
            {
                name: "Gudetama",
                image: "images/gudetama.svg",
                match: 92,
                trait: "Professional Couch Potato",
                tags: ["ğŸ³ Jiggly Egg", "ğŸ˜© Maximum Lazy", "ğŸ›‹ï¸ Couch Expert"],
                message: "A LAZY EGG! Your boyfriend refuses to leave the blanket and just says 'meh' to everything! ğŸ³ğŸ’¤",
                rarity: "SR"
            },
            {
                name: "Moomin",
                image: "images/moomin.svg",
                match: 90,
                trait: "Gentle Marshmallow Hippo",
                tags: ["ğŸ¦› Round Boy", "ğŸ¤— Hug Machine", "ğŸŒ™ Soft Giant"],
                message: "MOOMIN! Shaped like the most huggable creature. That tummy is MADE for cuddles! ğŸ¦›ğŸ’•",
                rarity: "SR"
            },
            {
                name: "Corocorokuririn",
                image: "images/corocorokuririn.svg",
                match: 94,
                trait: "Secret Snack Hoarder",
                tags: ["ğŸ¹ Hamster Cheeks", "ğŸª Snack Stash", "ğŸ˜‹ Always Munching"],
                message: "HAMSTER BOYFRIEND! Check his pockets - he's hiding snacks in there! ğŸ¹ğŸª",
                rarity: "SSR"
            },
            {
                name: "Hello Kitty",
                image: "images/hello-kitty.svg",
                match: 85,
                trait: "Iconic & Mysterious",
                tags: ["ğŸ€ Fashion Icon", "ğŸ Apple Cheeks", "âœ¨ Legendary"],
                message: "Hello Kitty energy! Your boyfriend is an absolute icon - cute and mysterious! ğŸ€âœ¨",
                rarity: "SR"
            },
            {
                name: "My Melody",
                image: "images/my-melody.svg",
                match: 82,
                trait: "Hoodie Stealing Bunny",
                tags: ["ğŸ° Bunny Soft", "ğŸ’— Pink Lover", "ğŸ§¥ Clothes Thief"],
                message: "My Melody match! Your boyfriend is sweet and probably wearing YOUR clothes! ğŸ°ğŸ’•",
                rarity: "R"
            },
            {
                name: "Kuromi",
                image: "images/kuromi.svg",
                match: 78,
                trait: "Fake Tough Guy",
                tags: ["ğŸ˜ˆ Acts Cool", "ğŸ’œ Secret Softie", "ğŸ–¤ Edgy Cutie"],
                message: "KUROMI! Your boyfriend ACTS tough but melts when you hug him! ğŸ˜ˆğŸ’•",
                rarity: "R"
            },
            {
                name: "Pochacco",
                image: "images/pochacco.svg",
                match: 88,
                trait: "Clumsy Happy Puppy",
                tags: ["ğŸ• Puppy Energy", "âš½ Tries His Best", "ğŸ˜„ Always Happy"],
                message: "POCHACCO! Your boyfriend is the happiest, clumsiest good boy! ğŸ•ğŸ’•",
                rarity: "SR"
            },
            {
                name: "Keroppi",
                image: "images/keroppi.svg",
                match: 80,
                trait: "Food-Obsessed Frog",
                tags: ["ğŸ¸ Big Eyes", "ğŸ½ï¸ Always Hungry", "ğŸ˜Š Happy Frog"],
                message: "Keroppi! Your boyfriend is CONSTANTLY thinking about his next meal! ğŸ¸ğŸ½ï¸",
                rarity: "R"
            },
            {
                name: "Hamtaro",
                image: "images/hamtaro.svg",
                match: 97,
                trait: "Energetic Sunshine Hamster",
                tags: ["ğŸ¹ Orange Stripes", "ğŸŒ» Hamha!", "ğŸ’ª Brave Boy"],
                message: "HAMTARO HIMSELF! Pure sunshine in hamster form! Energetic, brave, and loves sunflower seeds! HAMHA! ğŸ¹ğŸŒ»",
                rarity: "SSR"
            },
            {
                name: "Bijou",
                image: "images/bijou.svg",
                match: 88,
                trait: "Elegant Ribbon Princess",
                tags: ["ğŸ€ Blue Ribbons", "âœ¨ French Cutie", "ğŸ’ Precious"],
                message: "BIJOU! Elegant with those signature blue ribbons. Sweet, refined, and absolutely precious! ğŸ’âœ¨",
                rarity: "SR"
            },
            {
                name: "Oxnard",
                image: "images/oxnard.svg",
                match: 99,
                trait: "THE Chubby Snack King",
                tags: ["ğŸŒ» Seed Obsessed", "ğŸ” Always Eating", "ğŸ˜Š Extra Round"],
                message: "OXNARD! THE ULTIMATE CHUBBY BOY! Always has a sunflower seed, extra round, MAXIMUM MARSHMALLOW ENERGY! ğŸŒ»ğŸ¹",
                rarity: "SSR"
            },
            {
                name: "Mametchi",
                image: "images/mametchi.svg",
                match: 86,
                trait: "Smart Yellow Bean",
                tags: ["ğŸ’› Yellow Body", "ğŸ§  Big Brain", "ğŸ”§ Inventor"],
                message: "MAMETCHI! The smart Tamagotchi mascot with blue ears! He invents things that may or may not explode! ğŸ’›ğŸ§ ",
                rarity: "SR"
            },
            {
                name: "Kuchipatchi",
                image: "images/kuchipatchi.svg",
                match: 96,
                trait: "Chubby Green Eating Machine",
                tags: ["ğŸ’š Green Bean", "ğŸ‘„ Big Lips", "ğŸ” FOOD BRAIN"],
                message: "KUCHIPATCHI! The chubby green Tamagotchi who ONLY thinks about food and naps! Your boyfriend is a KUCHIPATCHI! ğŸ’šğŸ”",
                rarity: "SSR"
            },
            {
                name: "Memetchi",
                image: "images/memetchi.svg",
                match: 83,
                trait: "Fashionista Pink Curl",
                tags: ["ğŸ’— Pink Cutie", "ğŸ’‡ Curly Hair", "âœ¨ Glamorous"],
                message: "MEMETCHI! The glamorous pink Tamagotchi with the signature curl! Fashion-forward and fabulous! ğŸ’—âœ¨",
                rarity: "SR"
            }
        ];

        let collectedCharacters = new Set();
        let isSpinning = false;

        function createStars() {
            const container = document.getElementById('stars');
            const stars = ['â­', 'âœ¨', 'ğŸ’«', 'ğŸŒŸ', 'ğŸ’•', 'ğŸ’—', 'ğŸ©·'];
            for (let i = 0; i < 25; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.textContent = stars[Math.floor(Math.random() * stars.length)];
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.fontSize = (12 + Math.random() * 14) + 'px';
                container.appendChild(star);
            }
        }

        function pullGacha() {
            if (isSpinning) return;
            isSpinning = true;

            const pullBtn = document.getElementById('pullBtn');
            const globe = document.getElementById('globe');
            const machine = document.getElementById('gachaMachine');
            const crankArm = document.getElementById('crankArm');
            const capsules = document.getElementById('capsules');
            const resultDisplay = document.getElementById('resultDisplay');
            const resultCard = document.getElementById('resultCard');
            const resultCapsule = document.getElementById('resultCapsule');

            // Hide previous results
            resultDisplay.classList.remove('show');
            resultCard.classList.remove('show');
            pullBtn.disabled = true;
            pullBtn.textContent = 'ğŸ° SPINNING... ğŸ°';

            // Animate crank
            crankArm.classList.add('rotating');

            // Shake machine
            machine.classList.add('shaking');

            // Spin the balls
            globe.classList.add('spinning');
            capsules.style.display = 'block';

            // After spin duration
            setTimeout(() => {
                globe.classList.remove('spinning');
                machine.classList.remove('shaking');
                crankArm.classList.remove('rotating');

                // Hide capsules, show result
                capsules.style.display = 'none';

                // Pick random character
                const character = characters[Math.floor(Math.random() * characters.length)];

                // Show result capsule with character
                const resultImg = document.getElementById('resultCharImg');
                resultImg.src = character.image;
                resultDisplay.classList.add('show');

                // Capsule opening effect
                setTimeout(() => {
                    resultCapsule.classList.add('opening');
                    createSparkleBurst();
                    setTimeout(() => resultCapsule.classList.remove('opening'), 600);
                }, 400);

                // Add to collection
                collectedCharacters.add(character.name);
                updateCollection();

                // Confetti!
                spawnConfetti();

                // Show result card
                setTimeout(() => {
                    showResultCard(character);
                    pullBtn.disabled = false;
                    pullBtn.textContent = 'ğŸ° PULL! ğŸ°';
                    isSpinning = false;
                }, 1000);

            }, 1800);
        }

        function createSparkleBurst() {
            const burst = document.getElementById('sparkleBurst');
            burst.innerHTML = '';
            const sparkles = ['âœ¨', 'â­', 'ğŸ’«', 'ğŸŒŸ', 'ğŸ’•', 'ğŸ’—'];
            for (let i = 0; i < 12; i++) {
                const span = document.createElement('span');
                span.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];
                const angle = (i / 12) * 360;
                const distance = 80 + Math.random() * 40;
                span.style.left = `calc(50% + ${Math.cos(angle * Math.PI / 180) * distance}px)`;
                span.style.top = `calc(50% + ${Math.sin(angle * Math.PI / 180) * distance}px)`;
                span.style.animationDelay = (i * 0.03) + 's';
                burst.appendChild(span);
            }
        }

        function showResultCard(character) {
            const card = document.getElementById('resultCard');
            document.getElementById('cardCharImg').src = character.image;
            document.getElementById('cardCharName').textContent = character.name;

            const rarityBadge = document.getElementById('rarityBadge');
            rarityBadge.textContent = character.rarity === 'SSR' ? 'â­â­â­ SSR' : character.rarity === 'SR' ? 'â­â­ SR' : 'â­ R';
            rarityBadge.className = 'rarity-badge rarity-' + character.rarity.toLowerCase();

            document.getElementById('cardMatch').textContent = character.match + '% BF Match!';
            document.getElementById('cardTrait').textContent = '"' + character.trait + '"';
            document.getElementById('cardTags').innerHTML = character.tags.map(t => `<span class="result-tag">${t}</span>`).join('');
            document.getElementById('cardMessage').textContent = character.message;
            card.classList.add('show');
        }

        function resetGacha() {
            const resultDisplay = document.getElementById('resultDisplay');
            const resultCard = document.getElementById('resultCard');
            const capsules = document.getElementById('capsules');
            resultDisplay.classList.remove('show');
            resultCard.classList.remove('show');
            capsules.style.display = 'block';
        }

        function updateCollection() {
            document.getElementById('collectionCount').textContent =
                collectedCharacters.size + ' / ' + characters.length;
        }

        function spawnConfetti() {
            const container = document.getElementById('confetti');
            const items = ['ğŸ‰', 'ğŸŠ', 'ğŸ’•', 'âœ¨', 'â­', 'ğŸ’—', 'ğŸ©·', 'ğŸŒŸ', 'ğŸ’«', 'ğŸ€'];

            for (let i = 0; i < 40; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.textContent = items[Math.floor(Math.random() * items.length)];
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.fontSize = (14 + Math.random() * 20) + 'px';
                    confetti.style.animationDuration = (2 + Math.random() * 2) + 's';
                    container.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 4000);
                }, i * 25);
            }
        }

        createStars();
        updateCollection();
    </script>
</body>
</html>
